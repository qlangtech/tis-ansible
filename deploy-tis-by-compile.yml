---

- name: make ng-tis package
  vars_files:
    - vars.yml
  hosts: localhost
  roles:
    - role: ng-tis
  tags:
    - ng-tis

- name: compile tis src tar package
  vars_files:
   - vars.yml
  hosts: localhost      
  roles:
   - role: compile
  tags:
    - pkg

- name: compile tis-plugin component tar package
  vars_files:
    - vars.yml
  vars:
    exec_deploy: False
    app_local_dir_name: tis-plugin
    git_src: "git@github.com:qlangtech/plugins.git"
    target_file_pattern: "*.tpi"
  hosts: localhost
  roles:
    - role: compile
  tags:
    - pkg-plugin


- name: make tis-incr docker image
#  vars_prompt:
#    - name: "docker_password"
#      prompt: "docker repository password"
#      private: yes
  vars_files:
    - vars.yml
  hosts: localhost
  roles:
    - role: tis-incr
  tags:
    - incr


    
- import_playbook: install_struct.yml
  

